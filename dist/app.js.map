{"version":3,"sources":["../server/app.js"],"names":["app","use","path","join","__dirname","bodyParser","json","urlencoded","extended","express","static","routes","api_v1","page","router","env","name","get","response","req","res","sendFile"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAGA;;;;AACA;;;;AAuCA;;;;;;AA1CA;;AAKA,IAAMA,MAAM,wBAAZ;;AAEA;;;AAGAA,IAAIC,GAAJ,CAAQ,4BAAQC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAAR,CAAR;AACAJ,IAAIC,GAAJ,CAAQ,uBAAR,E,CAAmB;AACnBD,IAAIC,GAAJ,CAAQ,4BAAR;AACAD,IAAIC,GAAJ,CAAQ,sBAAO,MAAP,CAAR;AACAD,IAAIC,GAAJ,CAAQI,qBAAWC,IAAX,EAAR;AACAN,IAAIC,GAAJ,CAAQI,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;AACA;AACAR,IAAIC,GAAJ,CAAQ,SAAR,EAAmBQ,kBAAQC,MAAR,CAAeR,eAAKC,IAAL,CAAUC,SAAV,EAAqB,QAArB,EAA+B,QAA/B,CAAf,CAAnB;AACA;AACA;;AAEA;;;;AAIA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;AACAJ,IAAIC,GAAJ,CAAQ,SAAR,EAAmBU,iBAAOC,MAA1B;AACAZ,IAAIC,GAAJ,CAAQ,OAAR,EAAiBU,iBAAOE,IAAxB;;AAIAb,IAAIC,GAAJ,CAAQ,QAAR,EAAkBa,aAAlB;;AAEA;AACA;AACA,IAAIC,cAAIC,IAAJ,KAAa,YAAjB,EAA+B;AAC7BhB,MAAIiB,GAAJ,CAAQ,GAAR,EAAa,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,GAAvB,EAA4B;AACvCA,QAAIC,QAAJ,CAAanB,eAAKC,IAAL,CAAUC,SAAV,EAAqB,QAArB,EAA+B,YAA/B,CAAb;AACD,GAFD;AAGD;;kBAEcJ,G","file":"app.js","sourcesContent":["import express from 'express';\nimport bodyParser from 'body-parser';\nimport logger from 'morgan';\nimport favicon from 'serve-favicon';\nimport helmet from 'helmet';\nimport compression from 'compression';\nimport path from 'path';\n// import users from 'users';\n\nimport env from './config/env';\nimport routes from './routes';\n\nconst app = express();\n\n/*==================================\n=            Middleware            =\n==================================*/\napp.use(favicon(path.join(__dirname, 'favicon.ico')));\napp.use(helmet()); // Helmet helps you secure your Express apps by setting various HTTP headers.\napp.use(compression());\napp.use(logger('tiny'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\n// serve static files, this is for frontend React\napp.use('/static', express.static(path.join(__dirname, 'public', 'static')));\n// app.use('/users', users)\n/*=====  End of Middleware  ======*/\n\n/*===========================================\n=            Baic Authentication            =\n===========================================*/\n\n// app.use(require('node-basicauth')({'haochuan': 'password'}));\n\n/*=====  End of Baic Authentication  ======*/\n\n/*===========================\n=            COR            =\n===========================*/\n\n// app.use(require('cors')());\n\n/*=====  End of COR  ======*/\n\n// Routes\napp.use('/api/v1', routes.api_v1);\napp.use('/page', routes.page);\n\n\nimport router from './ver1';\napp.use('/users', router)\n\n// Load React App\n// Serve HTML file for production\nif (env.name === 'production') {\n  app.get('*', function response(req, res) {\n    res.sendFile(path.join(__dirname, 'public', 'index.html'));\n  });\n}\n\nexport default app;\n"]}